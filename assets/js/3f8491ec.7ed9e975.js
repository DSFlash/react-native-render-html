(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2393],{9037:function(e,t,n){"use strict";n.d(t,{Zo:function(){return xe},kt:function(){return He}});var r=n(2784),o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function a(e){var t={exports:{}};return e(t,t.exports),t.exports}var i=function(e){return e&&e.Math==Math&&e},s=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof o&&o)||function(){return this}()||Function("return this")(),c=function(e){try{return!!e()}catch(e){return!0}},p=!c((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,u={f:d&&!l.call({1:2},1)?function(e){var t=d(this,e);return!!t&&t.enumerable}:l},f=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},m={}.toString,h="".split,g=c((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==function(e){return m.call(e).slice(8,-1)}(e)?h.call(e,""):Object(e)}:Object,k=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},y=function(e){return g(k(e))},v=function(e){return"object"==typeof e?null!==e:"function"==typeof e},N=function(e,t){if(!v(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!v(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!v(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!v(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,T=function(e,t){return b.call(e,t)},w=s.document,R=v(w)&&v(w.createElement),C=!p&&!c((function(){return 7!=Object.defineProperty(R?w.createElement("div"):{},"a",{get:function(){return 7}}).a})),j=Object.getOwnPropertyDescriptor,S={f:p?j:function(e,t){if(e=y(e),t=N(t,!0),C)try{return j(e,t)}catch(e){}if(T(e,t))return f(!u.f.call(e,t),e[t])}},P=function(e){if(!v(e))throw TypeError(String(e)+" is not an object");return e},M=Object.defineProperty,O={f:p?M:function(e,t,n){if(P(e),t=N(t,!0),P(n),C)try{return M(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},x=p?function(e,t,n){return O.f(e,t,f(1,n))}:function(e,t,n){return e[t]=n,e},E=function(e,t){try{x(s,e,t)}catch(a){s[e]=t}return t},L=s["__core-js_shared__"]||E("__core-js_shared__",{}),H=Function.toString;"function"!=typeof L.inspectSource&&(L.inspectSource=function(e){return H.call(e)});var D,_,A,I=L.inspectSource,F=s.WeakMap,z="function"==typeof F&&/native code/.test(I(F)),W=a((function(e){(e.exports=function(e,t){return L[e]||(L[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.0",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),B=0,V=Math.random(),q=W("keys"),X={};if(z){var Z=L.state||(L.state=new(0,s.WeakMap)),G=Z.get,U=Z.has,Y=Z.set;D=function(e,t){return t.facade=e,Y.call(Z,e,t),t},_=function(e){return G.call(Z,e)||{}},A=function(e){return U.call(Z,e)}}else{var $=q.state||(q.state="Symbol("+String("state")+")_"+(++B+V).toString(36));X[$]=!0,D=function(e,t){return t.facade=e,x(e,$,t),t},_=function(e){return T(e,$)?e[$]:{}},A=function(e){return T(e,$)}}var K={set:D,get:_,has:A,enforce:function(e){return A(e)?_(e):D(e,{})},getterFor:function(e){return function(t){var n;if(!v(t)||(n=_(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},J=a((function(e){var t=K.get,n=K.enforce,r=String(String).split("String");(e.exports=function(e,t,o,a){var i,c=!!a&&!!a.unsafe,p=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||T(o,"name")||x(o,"name",t),(i=n(o)).source||(i.source=r.join("string"==typeof t?t:""))),e!==s?(c?!l&&e[t]&&(p=!0):delete e[t],p?e[t]=o:x(e,t,o)):p?e[t]=o:E(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||I(this)}))})),Q=s,ee=function(e){return"function"==typeof e?e:void 0},te=Math.ceil,ne=Math.floor,re=function(e){return isNaN(e=+e)?0:(e>0?ne:te)(e)},oe=Math.min,ae=Math.max,ie=Math.min,se=function(e){return function(t,n,r){var o,a,i=y(t),s=(o=i.length)>0?oe(re(o),9007199254740991):0,c=function(e,t){var n=re(e);return n<0?ae(n+t,0):ie(n,t)}(r,s);if(e&&n!=n){for(;s>c;)if((a=i[c++])!=a)return!0}else for(;s>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},ce=(se(!0),se(!1)),pe=function(e,t){var n,r=y(e),o=0,a=[];for(n in r)!T(X,n)&&T(r,n)&&a.push(n);for(;t.length>o;)T(r,n=t[o++])&&(~ce(a,n)||a.push(n));return a},le=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],de=le.concat("length","prototype"),ue={f:Object.getOwnPropertyNames||function(e){return pe(e,de)}},fe={f:Object.getOwnPropertySymbols},me=function(e,t){return arguments.length<2?ee(Q[e])||ee(s[e]):Q[e]&&Q[e][t]||s[e]&&s[e][t]}("Reflect","ownKeys")||function(e){var t=ue.f(P(e)),n=fe.f;return n?t.concat(n(e)):t},he=function(e,t){for(var n=me(t),r=O.f,o=S.f,a=0;a<n.length;a++){var i=n[a];T(e,i)||r(e,i,o(t,i))}},ge=/#|\.prototype\./,ke=function(e,t){var n=ve[ye(e)];return n==be||n!=Ne&&("function"==typeof t?c(t):!!t)},ye=ke.normalize=function(e){return String(e).replace(ge,".").toLowerCase()},ve=ke.data={},Ne=ke.NATIVE="N",be=ke.POLYFILL="P",Te=ke,we=S.f,Re=Object.keys||function(e){return pe(e,le)},Ce=function(e){return Object(k(e))},je=Object.assign,Se=Object.defineProperty,Pe=!je||c((function(){if(p&&1!==je({b:1},je(Se({},"a",{enumerable:!0,get:function(){Se(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=je({},e)[n]||Re(je({},t)).join("")!=r}))?function(e,t){for(var n=Ce(e),r=arguments.length,o=1,a=fe.f,i=u.f;r>o;)for(var s,c=g(arguments[o++]),l=a?Re(c).concat(a(c)):Re(c),d=l.length,f=0;d>f;)s=l[f++],p&&!i.call(c,s)||(n[s]=c[s]);return n}:je;!function(e,t){var n,r,o,a,i,c=e.target,p=e.global,l=e.stat;if(n=p?s:l?s[c]||E(c,{}):(s[c]||{}).prototype)for(r in t){if(a=t[r],o=e.noTargetGet?(i=we(n,r))&&i.value:n[r],!Te(p?r:c+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;he(a,o)}(e.sham||o&&o.sham)&&x(a,"sham",!0),J(n,r,a,e)}}({target:"Object",stat:!0,forced:Object.assign!==Pe},{assign:Pe});const Me=r.createContext({}),Oe=e=>{const t=r.useContext(Me);return"function"==typeof e?e(t):Object.assign({},t,e)},xe=({components:e,children:t,disableParentContext:n})=>{let o=Oe(e);return n&&(o=e),r.createElement(Me.Provider,{value:o},t)},Ee={inlineCode:"code",wrapper:({children:e})=>r.createElement(r.Fragment,{},e)},Le=r.forwardRef(((e,t)=>{const{components:n,mdxType:o,originalType:a,parentName:i}=e,s=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}(e,["components","mdxType","originalType","parentName"]),c=Oe(n);return r.createElement(c[`${i}.${o}`]||c[o]||Ee[o]||a,n?Object.assign({ref:t},s,{components:n}):Object.assign({ref:t},s))}));function He(e,t){const n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){const a=n.length,i=new Array(a);i[0]=Le;const s={};for(let e in t)hasOwnProperty.call(t,e)&&(s[e]=t[e]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(let e=2;e<a;e++)i[e]=n[e];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}Le.displayName="MDXCreateElement",He.Fragment=r.Fragment},8790:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},metadata:function(){return s},toc:function(){return c},default:function(){return l}});var r=n(7560),o=n(8283),a=(n(2784),n(9037)),i={id:"rendering",title:"Rendering",sidebar_position:4,description:"An overview of the rendering step in react-native-render-html."},s={unversionedId:"flow/rendering",id:"flow/rendering",isDocsHomePage:!1,title:"Rendering",description:"An overview of the rendering step in react-native-render-html.",source:"@site/docs/flow/rendering.mdx",sourceDirName:"flow",slug:"/flow/rendering",permalink:"/react-native-render-html/docs/flow/rendering",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/flow/rendering.mdx",version:"current",sidebarPosition:4,frontMatter:{id:"rendering",title:"Rendering",sidebar_position:4,description:"An overview of the rendering step in react-native-render-html."},sidebar:"docSidebar",previous:{title:"CSS Processing",permalink:"/react-native-render-html/docs/flow/css-processing"}},c=[{value:"Three-layers Rendering Architecture",id:"three-layers-rendering-architecture",children:[]},{value:"Default TNode Renderers",id:"default-tnode-renderers",children:[]},{value:"Custom Renderers",id:"custom-renderers",children:[]},{value:"Internal Renderers",id:"internal-renderers",children:[]}],p={toc:c};function l(e){var t=e.components,n=(0,o.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"How ","\u200b",(0,a.kt)("abbr",{about:"Structured data matching closely the React tree to render.",title:"Transient Render Tree"},"TRT")," is rendered?"),(0,a.kt)("h2",{id:"three-layers-rendering-architecture"},"Three-layers Rendering Architecture"),(0,a.kt)("p",null,"When you consume the ",(0,a.kt)("inlineCode",{parentName:"p"},"RenderHTML")," component, you are actually using three distinct components. So this (",(0,a.kt)("strong",{parentName:"p"},"implicit"),"):"),(0,a.kt)("div",{className:""},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"<RenderHTML source={{ html }} />\n"))),(0,a.kt)("p",null,"is equivalent to this (",(0,a.kt)("strong",{parentName:"p"},"explicit"),"):"),(0,a.kt)("div",{className:""},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"<TRenderEngineProvider>\n  <RenderHTMLConfigProvider>\n    <RenderHTMLSource source={{ html }} />\n  </RenderHTMLConfigProvider>\n</TRenderEngineProvider>\n"))),(0,a.kt)("p",null,"You can actually use the ",(0,a.kt)("strong",{parentName:"p"},"explicit")," three-layer architecture by importing those components:"),(0,a.kt)("div",{className:""},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import {\n  TRenderEngineProvider,\n  RenderHTMLConfigProvider,\n  RenderHTMLSource\n} from 'react-native-render-html';\n"))),(0,a.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"The great benefit of using ",(0,a.kt)("strong",{parentName:"p"},"explicitly")," this three-layers rendering architecture is that the engine and configuration can be put near the top of your App to factor the cost of instantiating the engine. This is ",(0,a.kt)("strong",{parentName:"p"},"especially usefull")," for apps which will render hundreds to thousands of small snippets such as chat apps.\n"))),(0,a.kt)("p",null,"A few remarks:"),(0,a.kt)("ol",{style:{listStyleType:"decimal"}},(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"TRenderEngineProvider")," accepts all ",(0,a.kt)("inlineCode",{parentName:"p"},"RenderHTML")," component props pertaining to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/flow/transient-render-engine"},"Transient Render Engine")," layer such as ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#customhtmlelementmodels"},"customHTMLElementModels"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#classesstyles"},"classesStyles")," (all styling props) and DOM related such as ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#domvisitors"},"domVisitors"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#selectdomroot"},"selectDomRoot"),"...")),(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"RenderHTMLConfigProvider")," accepts all ",(0,a.kt)("inlineCode",{parentName:"p"},"RenderHTML")," component props pertaining to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/flow/rendering"},"Rendering")," layer such as ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#renderers"},"renderers"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#renderersprops"},"renderersProps"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#computeembeddedmaxwidth"},"computeEmbeddedMaxWidth"),", ...")),(0,a.kt)("li",null,(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"RenderHTMLSource")," accepts all ",(0,a.kt)("inlineCode",{parentName:"p"},"RenderHTML")," component props pertaining to the document such as ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#source"},"source"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#onttreechange"},"onTTreeChange"),", ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#contentwidth"},"contentWidth"),"..."))),(0,a.kt)("h2",{id:"default-tnode-renderers"},"Default TNode Renderers"),(0,a.kt)("p",null,"Each node of the ","\u200b",(0,a.kt)("abbr",{about:"Structured data matching closely the React tree to render.",title:"Transient Render Tree"},"TRT")," is translated to a React component in the ",(0,a.kt)("inlineCode",{parentName:"p"},"TNodeRenderer")," component. Internally, ",(0,a.kt)("inlineCode",{parentName:"p"},"TNodeRenderer")," will map each type of ",(0,a.kt)("inlineCode",{parentName:"p"},"TNode")," to its dedicated component. ",(0,a.kt)("inlineCode",{parentName:"p"},"TDocumentRenderer")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"TDocument")," nodes, ",(0,a.kt)("inlineCode",{parentName:"p"},"TBlockRenderer")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"TBlock")," nodes, ",(0,a.kt)("inlineCode",{parentName:"p"},"TPhrasingRenderer")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"TPhrasing")," nodes and ",(0,a.kt)("inlineCode",{parentName:"p"},"TTextRenderer")," for ",(0,a.kt)("inlineCode",{parentName:"p"},"TText")," nodes."),(0,a.kt)("p",null,"Under the hood, ",(0,a.kt)("inlineCode",{parentName:"p"},"TPhrasingRenderer")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"TTextRenderer")," use React Native ",(0,a.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/Text"},"Text")," wrapper component, while ",(0,a.kt)("inlineCode",{parentName:"p"},"TBlockRenderer")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"TDocumentRenderer")," use React Native ",(0,a.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/View"},"View")," wrapper component."),(0,a.kt)("p",null,"Each renderer will pass styles provided by its underlying ",(0,a.kt)("inlineCode",{parentName:"p"},"TNode")," to its React Native wrapper. Children are rendered thanks to the ",(0,a.kt)("inlineCode",{parentName:"p"},"TChildrenRenderer")," component."),(0,a.kt)("h2",{id:"custom-renderers"},"Custom Renderers"),(0,a.kt)("p",null,"Custom renderers are components defined for specific tags. They can be specified with the ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#renderers"},"renderers")," prop, which is a mapping of tags with the corresponding components. See the ",(0,a.kt)("a",{parentName:"p",href:"/docs/guides/custom-renderers"},"Custom Rendering")," page. Also note that props targeting those renderers can be passed to a custom renderer via the ",(0,a.kt)("a",{parentName:"p",href:"/api/interfaces/renderhtmlprops#renderersprops"},"renderersProps")," prop, which is a mapping of tag names with its corresponding props. Those props can be consumed from the custom renderer via ",(0,a.kt)("inlineCode",{parentName:"p"},"useRendererProps")," hook."),(0,a.kt)("h2",{id:"internal-renderers"},"Internal Renderers"),(0,a.kt)("p",null,"Some tags such as ",(0,a.kt)("a",{parentName:"p",href:"https://mdn.io/img"},"<","img",">"),", ",(0,a.kt)("a",{parentName:"p",href:"https://mdn.io/ol"},"<","ol",">"),", ",(0,a.kt)("a",{parentName:"p",href:"https://mdn.io/ul"},"<","ul",">")," and ",(0,a.kt)("a",{parentName:"p",href:"https://mdn.io/a"},"<","a",">")," are handled by special renderers, namely ",(0,a.kt)("strong",{parentName:"p"},"internal renderers"),". Those renderers can be thought of as ",'"',"internal custom renderers",'"',". See the ",(0,a.kt)("a",{parentName:"p",href:"/docs/content/images"},"Images"),", ",(0,a.kt)("a",{parentName:"p",href:"/docs/content/lists"},"Lists")," and ",(0,a.kt)("a",{parentName:"p",href:"/docs/content/anchors"},"Anchors")," corresponding pages."))}l.isMDXComponent=!0}}]);