(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1974],{8402:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(2784),a=n.p+"assets/medias/discovery-ba14f182598e0d0eb9dc96559a2a32d7.webm",o="device-iphone-x_z-FY",i="device-frame_3zGa",s="device-content_1Os1",c="device-header_21tx",l="device-sensors_2tEX",d="device-btns_2Swf",p="device-power_2L2z",u="container_2KJ0",m="button_LmFf",h=n(6277);function g(e){var t=e.children,n=e.scale,a=void 0===n?1:n;return r.createElement("div",{style:{"--scale-factor":a},className:o},r.createElement("div",{className:i},t),r.createElement("div",{className:c}),r.createElement("div",{className:l}),r.createElement("div",{className:d}),r.createElement("div",{className:p}))}function f(e){var t=e.scale,n=(0,r.useRef)(),o=(0,r.useCallback)((function(){var e,t,r;null!=(e=n.current)&&e.paused?null==(t=n.current)||t.play():null==(r=n.current)||r.pause()}),[]);return r.createElement("div",{className:u},r.createElement(g,{scale:t},r.createElement("video",{ref:n,controls:!1,loop:!0,autoPlay:!0,muted:!0,preload:"lazy",onClick:o,className:s},r.createElement("source",{src:a,type:"video/webm"}))),r.createElement("button",{onClick:o,className:(0,h.Z)("button","button--primary",m)},r.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24"},r.createElement("path",{fill:"var(--ifm-button-color)",d:"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5"}))))}},1003:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(2784),a="expoBox_1jyo",o="expoBox__logo_11zi",i="expoBox__qr_12hN",s=n(6277),c=function(e){var t=e.size;return r.createElement("svg",{width:"24",height:"26",viewBox:"0 0 24 26",style:{width:t,height:t},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M22.069 10.075a2.273 2.273 0 00-.887-.74 2.296 2.296 0 00-2.237.16 2.265 2.265 0 00-.77.859 2.016 2.016 0 00.392 2.274 3.342 3.342 0 002.23-.63 3.289 3.289 0 001.271-1.923zM15.3 1.3l-1.45-.788-6.31 3.481.503.27.957.498 1.732-.954 4.569-2.523-.001.016zm.584-.24a.225.225 0 01.16.15l2.114 6.182a.205.205 0 01-.1.269 4.063 4.063 0 00-1.798 1.974 4.017 4.017 0 00-.175 2.655 4.283 4.283 0 001.755 2.332c.842.55 1.852.79 2.854.68a.269.269 0 01.262.16l2.184 6.345a.256.256 0 01-.101.278l-6.712 3.89a.253.253 0 01-.101.02.27.27 0 01-.181-.03L13.69 24.5a.234.234 0 01-.1-.1l-4.6-10.483-7.005 3.95a.327.327 0 01-.272.01l-1.592-.898a.23.23 0 01-.1-.299l6.805-12.8a.243.243 0 01.11-.099L13.721.03a.259.259 0 01.241 0l1.923 1.03zM7.47 4.499L7.14 4.33.58 16.71l1.197.668 5.657-7.335a.275.275 0 01.231-.1.282.282 0 01.201.149l6.16 14.066 1.646 1.007L9.06 6.005l-.281-.798-1.318-.718.01.01zm10.145 7.382a2.51 2.51 0 01.12-1.663 2.54 2.54 0 011.138-1.23 2.798 2.798 0 013.261.4 2.513 2.513 0 01.073 3.568l-.073.073a2.77 2.77 0 01-3.788.01 2.719 2.719 0 01-.731-1.158z",fill:"var(--ifm-font-color-base)"}))};function l(e){var t=e.className;return r.createElement("div",{className:(0,s.Z)(a,t)},r.createElement("div",{className:o},r.createElement(c,{size:48})),r.createElement("a",{target:"_blank",href:"https://expo.io/@jsamr/react-native-render-html-discovery"},r.createElement("strong",null,"Try Out The Discovery App on Expo!")),r.createElement("div",{className:i},r.createElement("img",{src:"/react-native-render-html/img/discovery-expo-qr.png"})))}},2980:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(2784),a={grid:"grid_806p",item:"item_2gbM","item--numeric":"item--numeric_39SN","item--loweralpha":"item--loweralpha_3W86","item--lowergreek":"item--lowergreek_2Y8W","item--lowerroman":"item--lowerroman_2VM-","item--discrtl":"item--discrtl_1QWS","item--arabicindic":"item--arabicindic_1MN8","item--russian":"item--russian_2d05","item--circle":"item--circle_2eE_","item--disc":"item--disc_1euh","item--square":"item--square_ytB_","item--thai":"item--thai_1x3h","item--disclosureopen":"item--disclosureopen_1GqI","item--disclosureclosed":"item--disclosureclosed_Yhg6","item--rtl":"item--rtl_1Q2D"},o=n.p+"assets/images/lower-alpha-06ee5e37567afc1720d13247651a4631.png",i=n.p+"assets/images/lower-greek-6c3f685ed901b783a7bc34e79ea253c0.png",s=n.p+"assets/images/lower-roman-621d3c7909a6d78e704760995095244a.png",c=n.p+"assets/images/rtl-arabic-5f6a54afbd69b45cfe02be2308879506.png",l=n.p+"assets/images/rtl-bullet-4dc67ed3d41d9441ccb1388cba342081.png",d=n.p+"assets/images/thai-a41799f82c5ccf5910cca950a58a004d.png",p=n.p+"assets/images/russian-5e15638531a9de6d33dd0ecad7c565bb.png",u=n.p+"assets/images/circle-48661299b7695b8287f346aebb77abf5.png",m=n.p+"assets/images/disc-313fe9849b288f7944307168c9ba5427.png",h=n.p+"assets/images/disclosure-open-3247435e868c8b22968517f39ab584ca.png",g=n.p+"assets/images/disclosure-closed-b8c72ffc31bd2dbca0dd994253f0e786.png",f=n.p+"assets/images/square-03ff6468d4c3dfdf3662d162c4cf53c7.png",y=n(6277);function v(e){var t=e.src,n=e.caption,o=e.rtl,i=e.id;return r.createElement("figure",{className:(0,y.Z)(a.item,a["item--"+i],o&&a["item--rtl"])},r.createElement("img",{src:t}),r.createElement("figcaption",null,n))}function k(){return r.createElement("div",{className:a.grid},r.createElement(v,{id:"loweralpha",rtl:!1,caption:"Lower Alpha",src:o}),r.createElement(v,{id:"lowergreek",rtl:!1,caption:"Lower Greek",src:i}),r.createElement(v,{id:"lowerroman",rtl:!1,caption:"Lower Roman",src:s}),r.createElement(v,{id:"discrtl",rtl:!0,caption:"Disc (RTL)",src:l}),r.createElement(v,{id:"arabicindic",rtl:!0,caption:"Arabic Indic (RTL)",src:c}),r.createElement(v,{id:"russian",rtl:!1,caption:"Russian",src:p}),r.createElement(v,{id:"circle",rtl:!1,caption:"Circle",src:u}),r.createElement(v,{id:"disc",rtl:!1,caption:"Disc",src:m}),r.createElement(v,{id:"square",rtl:!1,caption:"Square",src:f}),r.createElement(v,{id:"thai",rtl:!1,caption:"Thai",src:d}),r.createElement(v,{id:"disclosureopen",rtl:!1,caption:"Disclosure Open",src:h}),r.createElement(v,{id:"disclosureclosed",rtl:!1,caption:"Disclosure Closed",src:g}))}},8776:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(2784),a=n(3488),o="figure_bGOi",i="figure__caption_2D4m",s="figure__title_36_x",c="arrow_1ZYI";function l(e){var t=e.html,n=e.snapshot,l=e.caption,d=e.title,p=decodeURIComponent(t),u=decodeURIComponent(n);return r.createElement(r.Fragment,null,d&&r.createElement("div",{className:s},d),r.createElement("figure",{className:o},r.createElement(a.Z,{className:"html"},p),r.createElement("div",{className:c},"\u2193"),r.createElement(a.Z,{className:"xml"},u),l&&r.createElement("figcaption",{className:i},l)))}},3488:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(7560),a=n(2784),o=n(6277),i=n(6540),s=n(7719),c=n(4501),l=n.n(c),d=n(2894),p=n(7921),u="codeBlockTitle_1HP_",m="codeBlockContainer_1dyT",h="codeBlockContent_3uNE",g="codeBlock_3AS9",f="codeBlockWithTitle_2H7o",y="copyButton_1oOY",v="codeBlockLines_2sa4",k=n(1395),b=/{([\d,-]+)}/,T=function(e){void 0===e&&(e=["js","jsBlock","jsx","python","html"]);var t={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},n=["highlight-next-line","highlight-start","highlight-end"].join("|"),r=e.map((function(e){return"(?:"+t[e].start+"\\s*("+n+")\\s*"+t[e].end+")"})).join("|");return new RegExp("^\\s*(?:"+r+")\\s*$")};function N(e){var t=e.children,n=e.className,c=e.metastring,N=e.title,w=(0,k.LU)().prism,C=(0,a.useState)(!1),E=C[0],R=C[1],x=(0,a.useState)(!1),A=x[0],_=x[1];(0,a.useEffect)((function(){_(!0)}),[]);var D=(0,k.bc)(c)||N,F=(0,a.useRef)(null),Z=[],L=(0,d.Z)(),S=Array.isArray(t)?t.join(""):t;if(c&&b.test(c)){var j=c.match(b)[1];Z=l()(j).filter((function(e){return e>0}))}var P=n&&n.replace(/language-/,"");!P&&w.defaultLanguage&&(P=w.defaultLanguage);var I=S.replace(/\n$/,"");if(0===Z.length&&void 0!==P){for(var M,B="",z=function(e){switch(e){case"js":case"javascript":case"ts":case"typescript":return T(["js","jsBlock"]);case"jsx":case"tsx":return T(["js","jsBlock","jsx"]);case"html":return T(["js","jsBlock","html"]);case"python":case"py":return T(["python"]);default:return T()}}(P),O=S.replace(/\n$/,"").split("\n"),H=0;H<O.length;){var q=H+1,G=O[H].match(z);if(null!==G){switch(G.slice(1).reduce((function(e,t){return e||t}),void 0)){case"highlight-next-line":B+=q+",";break;case"highlight-start":M=q;break;case"highlight-end":B+=M+"-"+(q-1)+","}O.splice(H,1)}else H+=1}Z=l()(B),I=O.join("\n")}var W=function(){(0,s.Z)(I),R(!0),setTimeout((function(){return R(!1)}),2e3)};return a.createElement(i.ZP,(0,r.Z)({},i.lG,{key:String(A),theme:L,code:I,language:P}),(function(e){var t,n=e.className,i=e.tokens,s=e.getLineProps,c=e.getTokenProps;return a.createElement("div",{className:m},D&&a.createElement("div",{className:u},D),a.createElement("div",{className:(0,o.Z)(h,P)},a.createElement("div",{tabIndex:0,className:(0,o.Z)(n,g,"thin-scrollbar",(t={},t[f]=D,t))},a.createElement("div",{className:v},i.map((function(e,t){1===e.length&&""===e[0].content&&(e[0].content="\n");var n=s({line:e,key:t});return Z.includes(t+1)&&(n.className=n.className+" docusaurus-highlight-code-line"),a.createElement("div",(0,r.Z)({key:t},n),e.map((function(e,t){return a.createElement("span",(0,r.Z)({key:t},c({token:e,key:t})))})))})))),a.createElement("button",{ref:F,type:"button","aria-label":(0,p.I)({id:"theme.CodeBlock.copyButtonAriaLabel",message:"Copy code to clipboard",description:"The ARIA label for copy code blocks button"}),className:(0,o.Z)(y),onClick:W},E?a.createElement(p.Z,{id:"theme.CodeBlock.copied",description:"The copied button label on code blocks"},"Copied"):a.createElement(p.Z,{id:"theme.CodeBlock.copy",description:"The copy button label on code blocks"},"Copy"))))}))}},8077:function(e,t,n){"use strict";var r=n(2784).createContext(void 0);t.Z=r},2894:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},a=n(6097),o=n(1395),i=function(){var e=(0,o.LU)().prism,t=(0,a.Z)().isDarkTheme,n=e.theme||r,i=e.darkTheme||n;return t?i:n}},6097:function(e,t,n){"use strict";var r=n(2784),a=n(8077);t.Z=function(){var e=(0,r.useContext)(a.Z);if(null==e)throw new Error("`useThemeContext` is used outside of `Layout` Component. See https://docusaurus.io/docs/api/themes/configuration#usethemecontext.");return e}},7719:function(e,t,n){"use strict";function r(e,t){var n=(void 0===t?{}:t).target,r=void 0===n?document.body:n,a=document.createElement("textarea"),o=document.activeElement;a.value=e,a.setAttribute("readonly",""),a.style.contain="strict",a.style.position="absolute",a.style.left="-9999px",a.style.fontSize="12pt";var i=document.getSelection(),s=!1;i.rangeCount>0&&(s=i.getRangeAt(0)),r.append(a),a.select(),a.selectionStart=0,a.selectionEnd=e.length;var c=!1;try{c=document.execCommand("copy")}catch(l){}return a.remove(),s&&(i.removeAllRanges(),i.addRange(s)),o&&o.focus(),c}n.d(t,{Z:function(){return r}})},1627:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return p},metadata:function(){return u},toc:function(){return m},default:function(){return g}});var r=n(7560),a=n(8283),o=(n(2784),n(9037)),i=n(8402),s=n(6785),c=n(8776),l=n(2980),d=n(1003),p={title:"Announcing the Beta Foundry Release",author:"Jules Sam. Randolph",author_title:"Developer of React Native Render HTML v6",author_url:"https://github.com/jsamr/",author_image_url:"https://avatars.githubusercontent.com/u/3646758?v=4",tags:["foundry","announcement"],description:"An overview of exiting features in React Native Render HTML Foundry release.",hide_table_of_contents:!1},u={permalink:"/react-native-render-html/blog/2021/06/07/foundry-announcement",source:"@site/blog/2021-06-07-foundry-announcement.mdx",title:"Announcing the Beta Foundry Release",description:"An overview of exiting features in React Native Render HTML Foundry release.",date:"2021-06-07T00:00:00.000Z",formattedDate:"June 6, 2021",tags:[{label:"foundry",permalink:"/react-native-render-html/blog/tags/foundry"},{label:"announcement",permalink:"/react-native-render-html/blog/tags/announcement"}],readingTime:5.225,truncated:!0},m=[{value:"The Discovery App",id:"the-discovery-app",children:[]},{value:"Overview of New Features",id:"overview-of-new-features",children:[{value:"The Transient Render Engine",id:"the-transient-render-engine",children:[]},{value:"Custom Renderers",id:"custom-renderers",children:[]},{value:"A Revamped List Renderer",id:"a-revamped-list-renderer",children:[]},{value:"Extensible Internal Image Renderer",id:"extensible-internal-image-renderer",children:[]},{value:"Composite Rendering Architecture",id:"composite-rendering-architecture",children:[]}]},{value:"Ready for Production",id:"ready-for-production",children:[]},{value:"Migrating from v4 and v5",id:"migrating-from-v4-and-v5",children:[]}],h={toc:m};function g(e){var t=e.components,n=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"After seven months of alpha development on my free time and testing by the\ncommunity, I am proud to announce the first beta release of React Native Render\nHTML. This process has led the new API to mature, and the introduction of\nbeta stage marks the end of its instability."),(0,o.kt)("p",null,"During the beta stage, I will bring fixes to any issue reported by the\ncommunity and expect the test coverage to rise above 90%. I also plan to refine\nthe ",(0,o.kt)("strong",{parentName:"p"},"Discovery App")," and website, including additional sections for best user\nexperience. Now, let's get to the meat!"),(0,o.kt)("h2",{id:"the-discovery-app"},"The Discovery App"),(0,o.kt)("p",null,"Along with the release comes this new website and the ",(0,o.kt)("strong",{parentName:"p"},"Discovery App")," which\nfeatures all the docs of the website with embedded RNRH-rendered snippets. For\nthis very reason, the Discovery App is recommended for newcomers, or for those\nwho want ",(0,o.kt)("strong",{parentName:"p"},'a "live" feeling of the new engine capabilities'),". The website is\nmore suited during development when searching for specific information."),(0,o.kt)(i.Z,{scale:.95,mdxType:"DiscoveryFrame"}),(0,o.kt)("p",null,'In addition, the Discovery App has a collection of "Playgrounds" to play with\nspecific components and observe how they respond to style and props changes.'),(0,o.kt)(d.Z,{mdxType:"ExpoDiscoveryCard"}),(0,o.kt)("h2",{id:"overview-of-new-features"},"Overview of New Features"),(0,o.kt)("h3",{id:"the-transient-render-engine"},"The Transient Render Engine"),(0,o.kt)("p",null,"The Transient Render engine (TRE) transforms DOM nodes into a ready-to-render\ndata structure called the Transient Render Tree (TRT), which is made of ",(0,o.kt)(s.Z,{type:"api-def",name:"TNodes",url:"/react-native-render-html/api/tnode",mdxType:"Reference"}),". It allows features such as ",(0,o.kt)("strong",{parentName:"p"},"whitespace collapsing"),", ",(0,o.kt)("strong",{parentName:"p"},"hoisting"),",\n",(0,o.kt)("strong",{parentName:"p"},"CSS inheritance")," and more."),(0,o.kt)("p",null,"A legitimate concerns is whether it adds any overhead. The short answer is\n",(0,o.kt)("em",{parentName:"p"},"no"),", if we compare it to the legacy engine which had its own transient render\nstructure. Moreover, this TRT construction process is benchmarked to safeguard\nits speed. In addition to the enumerated features, the new transient data\nstructure offers obvious advantages for library consumers:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"It is totally transparent and predictable; you can create snapshots of a",(0,o.kt)(s.Z,{type:"api-def",name:"TNode",url:"/react-native-render-html/api/tnode",mdxType:"Reference"})," thanks to the ",(0,o.kt)(s.Z,{type:"api-def",name:"TNodeShape",member:"snaphot()",url:"/react-native-render-html/api/tnodeshape#snapshot",mdxType:"Reference"})," method for an intuitive understanding of the engine internals. This feature is extremely handy for debugging and testing!"),(0,o.kt)("li",{parentName:"ul"},"It's hackable by allowing to define custom ",(0,o.kt)("strong",{parentName:"li"},"content models")," for tags. Say\nhi to inline images!"),(0,o.kt)("li",{parentName:"ul"},"It is shipped with a CSS processor which enforces strict translation rules\nfrom CSS to React Native styles. Say goodbye to native crashes caused by\nunsupported CSS properties! See the ",(0,o.kt)("a",{parentName:"li",href:"/react-native-render-html/docs/flow/css-processing"},(0,o.kt)("strong",{parentName:"a"},"dedicated\narticle"))," for\nreference."),(0,o.kt)("li",{parentName:"ul"},"It paves the way to server side (or build-time) pre-rendering in the future,\nand, why not, a react fiber and MDX builder.")),(0,o.kt)("p",null,"Below is an example of HTML transformation into a Transient Render Tree:"),(0,o.kt)(c.Z,{title:"Translation of HTML markup into a Transient Render Tree",caption:"This figure shows how HTML markup translates to a transient render tree structure. The markup for the TRT is JSX and has been produced by the snapshot() method. Notice that whitespace have collapsed!",html:"%3Ca%20href%3D%22https%3A%2F%2Fdomain.com%22%3E%0AThis%20is%0A%3Cspan%3Ephrasing%20content%3C%2Fspan%3E%0A%3Cimg%20src%3D%22https%3A%2F%2Fdomain.com%2Flogo.jpg%22%20%2F%3E%0A%20%20%20%20and%20this%20is%20%3Cstrong%3Etoo%3C%2Fstrong%3E.%0A%3C%2Fa%3E",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22a%22%20href%3D%22https%3A%2F%2Fdomain.com%22%3E%0A%20%20%20%20%20%20%3CTPhrasing%20anonymous%3E%0A%20%20%20%20%20%20%20%20%3CTText%20anonymous%20data%3D%22This%20is%20%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3CTText%20tagName%3D%22span%22%20data%3D%22phrasing%20content%22%20%2F%3E%0A%20%20%20%20%20%20%3C%2FTPhrasing%3E%0A%20%20%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22https%3A%2F%2Fdomain.com%2Flogo.jpg%22%20%2F%3E%0A%20%20%20%20%20%20%3CTPhrasing%20anonymous%3E%0A%20%20%20%20%20%20%20%20%3CTText%20anonymous%20data%3D%22and%20this%20is%20%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3CTText%20tagName%3D%22strong%22%20data%3D%22too%22%20%2F%3E%0A%20%20%20%20%20%20%20%20%3CTText%20anonymous%20data%3D%22.%22%20%2F%3E%0A%20%20%20%20%20%20%3C%2FTPhrasing%3E%0A%20%20%20%20%3C%2FTBlock%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"TNodeTransformDisplay"}),(0,o.kt)("p",null,"A detailed review of the Transient Render Engine has its ",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/flow/transient-render-engine"},(0,o.kt)("strong",{parentName:"a"},"dedicated article")),".\nYou can also learn more about the new data flow in the ",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/architecture"},(0,o.kt)("strong",{parentName:"a"},"Architecture article")),"."),(0,o.kt)("h3",{id:"custom-renderers"},"Custom Renderers"),(0,o.kt)("p",null,"The new rendering API is an order of magnitude more powerful than the previous\none. Custom renderers are now plain React Component instead of functions, and\nyou have now access to the underlying renderer for rich customization:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Foundry Custom Renderer"',title:'"Foundry',Custom:!0,'Renderer"':!0},"import React from 'react';\nimport { Alert } from 'react-native';\n\nfunction H1Renderer({\n  TDefaultRenderer,\n  ...props\n}) {\n  const onPress = () => Alert.alert('pressed!');\n  return (\n    <TDefaultRenderer\n      {...props}\n      onPress={onPress}\n    />\n  );\n}\n")),(0,o.kt)("p",null,"Default renderers support ",(0,o.kt)("inlineCode",{parentName:"p"},"onPress")," and many more interesting props! See\n","\u200b",(0,o.kt)(s.Z,{type:"api-def",name:"TDefaultRendererProps",url:"/react-native-render-html/api/tdefaultrendererprops",mdxType:"Reference"}),".\nMoreover, you can customize the rendering of children thanks to the ",(0,o.kt)(s.Z,{type:"api-def",name:"TChildrenRenderer",url:"/react-native-render-html/api/tchildrenrenderer",mdxType:"Reference"})," component!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Foundry Custom Renderer with Children Tampering"',title:'"Foundry',Custom:!0,Renderer:!0,with:!0,Children:!0,'Tampering"':!0},"import React from 'react';\nimport { TChildrenRenderer } from 'react-native-render-html';\nimport AdComponent from './AdComponent';\n\nfunction ArticleWithAds({\n  TDefaultRenderer,\n  tnode,\n  ...defaultRendererProps\n}) {\n  const firstChildrenChunk = tnode.children.slice(0, 2);\n  const secondChildrenChunk = tnode.children.slice(2, 4);\n  const thirdChildrenChunk = tnode.children.slice(4);\n  return (\n    <TDefaultRenderer tnode={tnode} {...defaultRendererProps}>\n      <TChildrenRenderer tchildren={firstChildrenChunk} />\n      {firstChildrenChunk.length === 2 ? <AdComponent /> : null}\n      <TChildrenRenderer tchildren={secondChildrenChunk} />\n      {secondChildrenChunk.length === 2 ? <AdComponent /> : null}\n      <TChildrenRenderer tchildren={thirdChildrenChunk} />\n    </TDefaultRenderer>\n  );\n}\n")),(0,o.kt)("p",null,"This custom renderer will insert an ",(0,o.kt)("inlineCode",{parentName:"p"},"AdComponent")," element after the second and\nfourth children of this ",(0,o.kt)(s.Z,{type:"api-def",name:"TNode",url:"/react-native-render-html/api/tnode",mdxType:"Reference"}),"."),(0,o.kt)("p",null,"Last but not least, custom renderers can reuse internal renderers (those\nspecial renderers displaying lists, images and anchors). For this purpose,\nyou can use the ",(0,o.kt)(s.Z,{type:"api-def",name:"InternalRenderer",url:"/react-native-render-html/api/customrendererprops#internalrenderer",mdxType:"Reference"})," prop or ",(0,o.kt)(s.Z,{type:"api-def",name:"useInternalRenderer",url:"/react-native-render-html/api/useinternalrenderer",mdxType:"Reference"})," hook.\n",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/guides/custom-renderers"},(0,o.kt)("strong",{parentName:"a"},"Check out our dedicated\nguide")),"."),(0,o.kt)("h3",{id:"a-revamped-list-renderer"},"A Revamped List Renderer"),(0,o.kt)("p",null,"The versatile new list component ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/jsamr/react-native-li/tree/master/packages/counter-style#readme"},"gives access to 47 markers\npresets"),"\nfor custom ",(0,o.kt)("a",{parentName:"p",href:"https://drafts.csswg.org/css-counter-styles-3/"},"CSS Counter\nStyles"),"; supports\n",(0,o.kt)("inlineCode",{parentName:"p"},"list-style-type")," CSS property and ",(0,o.kt)("inlineCode",{parentName:"p"},"start")," attribute. There is also an experimental RTL feature!"),(0,o.kt)(l.Z,{mdxType:"ListsShowcase"}),(0,o.kt)("p",null,"Note that the ",(0,o.kt)("strong",{parentName:"p"},"thai")," and ",(0,o.kt)("strong",{parentName:"p"},"arabic indic")," counters have been rendered via\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/jsamr/react-native-li/tree/master/packages/counter-style#readme"},"@jsamr/counter-style"),"\npresets, and the ",(0,o.kt)("strong",{parentName:"p"},"russian")," counter has been rendered with a custom, 2\nlines-of-code counter renderer. Learn more about this fancy feature and examples ",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/content/lists"},(0,o.kt)("strong",{parentName:"a"},"in the dedicated\narticle")),"."),(0,o.kt)("h3",{id:"extensible-internal-image-renderer"},"Extensible Internal Image Renderer"),(0,o.kt)("p",null,"The new internal image renderer is shipped with ",(0,o.kt)("inlineCode",{parentName:"p"},"object-fit")," CSS property support.\nMoreover, its pieces and internal state are completely reusable for custom\nrendering! Learn more about this feature and examples ",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/content/images"},(0,o.kt)("strong",{parentName:"a"},"in the dedicated\narticle")),"."),(0,o.kt)("h3",{id:"composite-rendering-architecture"},"Composite Rendering Architecture"),(0,o.kt)("p",null,"The three-layer rendering architecture is ideal when rendering many HTML\nsnippets at a time. It basically means that you can put configuration in a\ncontext to avoid the cost of instantiating the TRE too many times.\n",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/flow/rendering"},(0,o.kt)("strong",{parentName:"a"},"Check out the rendering article")),"."),(0,o.kt)("p",null,"It also offers the ability to select the root of the document to render, and to\ninspect the DOM object asynchronously before rendering. ",(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/guides/dom-tampering"},(0,o.kt)("strong",{parentName:"a"},"Check out our\ndedicated guide")),"."),(0,o.kt)("h2",{id:"ready-for-production"},"Ready for Production"),(0,o.kt)("p",null,"The Foundry release is ready for production. Entering the beta stage means the\nAPI will not change anymore and can be considered stable. Test coverage for the\nCSS processor and TRE is ",(0,o.kt)("strong",{parentName:"p"},"100%")," (see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/native-html/core"},"native-html/core\nrepository"),"). The\n",(0,o.kt)("inlineCode",{parentName:"p"},"react-native-render-html")," package has a test coverage above ",(0,o.kt)("strong",{parentName:"p"},"64%"),", and will\nrise to above ",(0,o.kt)("strong",{parentName:"p"},"90%")," by the end of the beta stage."),(0,o.kt)("h2",{id:"migrating-from-v4-and-v5"},"Migrating from v4 and v5"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/migration-guide"},(0,o.kt)("strong",{parentName:"a"},"Check out our dedicated\nguide")),", and please don't\nhesitate to ask for help in ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/dbEMMJM"},(0,o.kt)("strong",{parentName:"a"},"our discord channel")),"."))}g.isMDXComponent=!0},4501:function(e,t){function n(e){let t,n=[];for(let r of e.split(",").map((e=>e.trim())))if(/^-?\d+$/.test(r))n.push(parseInt(r,10));else if(t=r.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[e,r,a,o]=t;if(r&&o){r=parseInt(r),o=parseInt(o);const e=r<o?1:-1;"-"!==a&&".."!==a&&"\u2025"!==a||(o+=e);for(let t=r;t!==o;t+=e)n.push(t)}}return n}t.default=n,e.exports=n},6540:function(e,t,n){"use strict";n.d(t,{ZP:function(){return h},lG:function(){return i}});var r=n(7175),a={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},o=n(2784),i={Prism:r.Z,theme:a};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=/\r\n|\r|\n/,d=function(e){0===e.length?e.push({types:["plain"],content:"\n",empty:!0}):1===e.length&&""===e[0].content&&(e[0].content="\n",e[0].empty=!0)},p=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},u=function(e,t){var n=e.plain,r=Object.create(null),a=e.styles.reduce((function(e,n){var r=n.languages,a=n.style;return r&&!r.includes(t)||n.types.forEach((function(t){var n=c({},e[t],a);e[t]=n})),e}),r);return a.root=n,a.plain=c({},n,{backgroundColor:null}),a};function m(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var h=function(e){function t(){for(var t=this,n=[],r=arguments.length;r--;)n[r]=arguments[r];e.apply(this,n),s(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?u(e.theme,e.language):void 0;return t.themeDict=n})),s(this,"getLineProps",(function(e){var n=e.key,r=e.className,a=e.style,o=c({},m(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),i=t.getThemeDict(t.props);return void 0!==i&&(o.style=i.plain),void 0!==a&&(o.style=void 0!==o.style?c({},o.style,a):a),void 0!==n&&(o.key=n),r&&(o.className+=" "+r),o})),s(this,"getStyleForToken",(function(e){var n=e.types,r=e.empty,a=n.length,o=t.getThemeDict(t.props);if(void 0!==o){if(1===a&&"plain"===n[0])return r?{display:"inline-block"}:void 0;if(1===a&&!r)return o[n[0]];var i=r?{display:"inline-block"}:{},s=n.map((function(e){return o[e]}));return Object.assign.apply(Object,[i].concat(s))}})),s(this,"getTokenProps",(function(e){var n=e.key,r=e.className,a=e.style,o=e.token,i=c({},m(e,["key","className","style","token"]),{className:"token "+o.types.join(" "),children:o.content,style:t.getStyleForToken(o),key:void 0});return void 0!==a&&(i.style=void 0!==i.style?c({},i.style,a):a),void 0!==n&&(i.key=n),r&&(i.className+=" "+r),i})),s(this,"tokenize",(function(e,t,n,r){var a={code:t,grammar:n,language:r,tokens:[]};e.hooks.run("before-tokenize",a);var o=a.tokens=e.tokenize(a.code,a.grammar,a.language);return e.hooks.run("after-tokenize",a),o}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,r=e.code,a=e.children,o=this.getThemeDict(this.props),i=t.languages[n];return a({tokens:function(e){for(var t=[[]],n=[e],r=[0],a=[e.length],o=0,i=0,s=[],c=[s];i>-1;){for(;(o=r[i]++)<a[i];){var u=void 0,m=t[i],h=n[i][o];if("string"==typeof h?(m=i>0?m:["plain"],u=h):(m=p(m,h.type),h.alias&&(m=p(m,h.alias)),u=h.content),"string"==typeof u){var g=u.split(l),f=g.length;s.push({types:m,content:g[0]});for(var y=1;y<f;y++)d(s),c.push(s=[]),s.push({types:m,content:g[y]})}else i++,t.push(m),n.push(u),r.push(0),a.push(u.length)}i--,t.pop(),n.pop(),r.pop(),a.pop()}return d(s),c}(void 0!==i?this.tokenize(t,r,i,n):[r]),className:"prism-code language-"+n,style:void 0!==o?o.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(o.Component)}}]);