(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3966],{2553:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var a=n(7560),i=n(8283),r=n(2784),o=n(7149),s=n.n(o),l=n(5277),m=n(8563),c=n(1846),d=n(9979),p=n(6097),h="expoIframe_3HcQ";var u=(0,r.memo)((function(e){var t=e.name,n=e.description,a=e.theme,i=e.code,o=e.version,s=(0,r.useRef)(Math.random().toString(36).substr(2,10)),l=(0,r.useRef)(null),m="https://snack.expo.io/embedded?"+(0,r.useMemo)((function(){return function(e){var t=e.name,n=e.description,a=e.theme;return[["iframeId",e.iframeId],["preview","true"],["platform","my device"],["supportedPlatforms","ios,android"],t?["name",encodeURIComponent(t)]:null,n?["description",encodeURIComponent(n)]:null,["theme",a],["verbose","false"],["waitForData","true"]].filter((function(e){return!!e})).map((function(e){return e[0]+"="+e[1]})).join("&")}({iframeId:s.current,name:t,theme:a,description:n})}),[n,t,a]);return(0,r.useEffect)((function(){return function(e){var t=e.iframe,n=e.iframeId,a=e.code,i=e.version,r=function(e){var r=e.data[0],o=e.data[1];"expoFrameLoaded"===r&&o.iframeId===n&&t.contentWindow.postMessage(["expoDataEvent",{iframeId:n,dependencies:"react-native-render-html@"+i+",domutils,domhandler,@jsamr/counter-style,@jsamr/counter-style/presets/thai",code:a,files:""}],"*")};return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}({iframe:l.current,iframeId:s.current,code:i,version:o})}),[i,o]),r.createElement("iframe",{className:h,ref:l,src:m,frameBorder:"0",loading:"lazy","data-snack-iframe":!0})}));function A(e){var t=e.snippet,n=e.title,a=e.caption,i=e.version,o=e.className,s=(0,p.Z)().isDarkTheme,l={backgroundColor:s?"#212121":"#f9f9f9"};return r.createElement("div",{className:o,style:l},r.createElement(u,{code:t,theme:s?"dark":"light",name:n,description:a,version:i}))}var g={figure:"figure_37nT",figure__caption:"figure__caption_oWxo",caption:"caption_3Ai_",figure__title:"figure__title_2lyH",sourceContainer__code:"sourceContainer__code_1D3p",sourceContainer__fixRadius:"sourceContainer__fixRadius_3RJ4",notice:"notice_3QzH",expoBox:"expoBox_24U5",expoBox__button:"expoBox__button_1HUM",expoBox__span:"expoBox__span_3enc",modalContent:"modalContent_38sI",modalContainer:"modalContainer_m0wd",modal__closeButton:"modal__closeButton_2th1",overlay:"overlay_34SY"},D=function(e){var t=e.color,n=e.size;return r.createElement("svg",{width:"24",height:"26",viewBox:"0 0 24 26",style:{width:n,height:n},fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M22.069 10.075a2.273 2.273 0 00-.887-.74 2.296 2.296 0 00-2.237.16 2.265 2.265 0 00-.77.859 2.016 2.016 0 00.392 2.274 3.342 3.342 0 002.23-.63 3.289 3.289 0 001.271-1.923zM15.3 1.3l-1.45-.788-6.31 3.481.503.27.957.498 1.732-.954 4.569-2.523-.001.016zm.584-.24a.225.225 0 01.16.15l2.114 6.182a.205.205 0 01-.1.269 4.063 4.063 0 00-1.798 1.974 4.017 4.017 0 00-.175 2.655 4.283 4.283 0 001.755 2.332c.842.55 1.852.79 2.854.68a.269.269 0 01.262.16l2.184 6.345a.256.256 0 01-.101.278l-6.712 3.89a.253.253 0 01-.101.02.27.27 0 01-.181-.03L13.69 24.5a.234.234 0 01-.1-.1l-4.6-10.483-7.005 3.95a.327.327 0 01-.272.01l-1.592-.898a.23.23 0 01-.1-.299l6.805-12.8a.243.243 0 01.11-.099L13.721.03a.259.259 0 01.241 0l1.923 1.03zM7.47 4.499L7.14 4.33.58 16.71l1.197.668 5.657-7.335a.275.275 0 01.231-.1.282.282 0 01.201.149l6.16 14.066 1.646 1.007L9.06 6.005l-.281-.798-1.318-.718.01.01zm10.145 7.382a2.51 2.51 0 01.12-1.663 2.54 2.54 0 011.138-1.23 2.798 2.798 0 013.261.4 2.513 2.513 0 01.073 3.568l-.073.073a2.77 2.77 0 01-3.788.01 2.719 2.719 0 01-.731-1.158z",fill:t}))},f=[{label:"JSX Source",value:"jsx"},{label:"HTML Snippet",value:"html"},{label:"TRT Snapshot",value:"snapshot"}];function v(e){var t=e.isOpen,n=e.onModalClose,o=(0,i.Z)(e,["isOpen","onModalClose"]),l=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=l.current;return e.node.addEventListener("click",n),function(){e.node.removeEventListener("click",n)}}),[n]),r.createElement(s(),{parentSelector:function(){return document.querySelector("body")},overlayClassName:g.overlay,portalClassName:g.portal,className:g.modalContainer,isOpen:t,onRequestClose:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,appElement:document.body,ref:l,contentLabel:"Expo Interactive Source"},r.createElement(A,(0,a.Z)({className:g.modalContent},o)),r.createElement("button",{className:g.modal__closeButton,onClick:n},"X"))}function B(e){var t=e.snippet,n=e.title,o=e.caption,s=e.html,p=e.preferHtmlSrc,h=e.snapshot,u=(0,i.Z)(e,["snippet","title","caption","html","preferHtmlSrc","snapshot"]),A=(0,r.useState)(!1),B=A[0],C=A[1],w=decodeURIComponent(t),k=decodeURIComponent(s),E=decodeURIComponent(h),F=(0,r.useCallback)((function(){return C(!1)}),[]);return r.createElement("figure",{className:g.figure},r.createElement("div",{className:g.sourceContainer},r.createElement("div",{className:g.sourceContainer__code},n&&r.createElement("div",{className:g.figure__title},n),r.createElement("div",{className:g.sourceContainer__fixRadius},r.createElement(m.Z,{defaultValue:p?"html":"jsx",title:n,values:f},r.createElement(c.Z,{value:"html"},r.createElement(l.Z,{className:"html"},k)),r.createElement(c.Z,{value:"jsx"},r.createElement(l.Z,{className:"jsx"},w)),r.createElement(c.Z,{value:"snapshot"},r.createElement(l.Z,{className:"xml"},E))))),r.createElement(d.Z,null,(function(){return r.createElement(v,(0,a.Z)({isOpen:B,onModalClose:F},u,{snippet:w,title:n,caption:o,preferHtmlSrc:p}))})),o&&r.createElement("figcaption",{className:g.caption},o),r.createElement("small",{style:o?{paddingTop:"var(--ifm-leading)"}:{},className:g.notice},"Press on the button below to show how this code renders on your device.")),r.createElement("div",{className:g.expoBox},r.createElement("button",{onClick:function(){return C(!0)},className:g.expoBox__button+" button button--outline button--primary",role:"button"},r.createElement(D,{color:"var(--ifm-button-color)",size:40}),r.createElement("span",{className:g.expoBox__span},"Run on Your Device with Expo"))))}},5013:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return m},default:function(){return d}});var a=n(7560),i=n(8283),r=(n(2784),n(9037)),o=n(2553),s={id:"images",title:"Images",sidebar_position:2,description:"An overview of images in react-native-render-html."},l={unversionedId:"content/images",id:"content/images",isDocsHomePage:!1,title:"Images",description:"An overview of images in react-native-render-html.",source:"@site/docs/content/images.mdx",sourceDirName:"content",slug:"/content/images",permalink:"/react-native-render-html/docs/content/images",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/content/images.mdx",version:"current",sidebarPosition:2,frontMatter:{id:"images",title:"Images",sidebar_position:2,description:"An overview of images in react-native-render-html."},sidebar:"tutorialSidebar",previous:{title:"Textual",permalink:"/react-native-render-html/docs/content/textual"},next:{title:"Lists",permalink:"/react-native-render-html/docs/content/lists"}},m=[{value:"Scaling",id:"scaling",children:[{value:"Inline Styles",id:"inline-styles",children:[]},{value:"Object Fit",id:"object-fit",children:[]},{value:"Automatic Sizing",id:"automatic-sizing",children:[]}]},{value:"Preloading",id:"preloading",children:[]},{value:"Error Handling",id:"error-handling",children:[]},{value:"Custom Renderer",id:"custom-renderer",children:[{value:"Via useInternalRenderer",id:"via-useinternalrenderer",children:[]},{value:"By Reusing Internal Building Blocks",id:"by-reusing-internal-building-blocks",children:[]}]}],c={toc:m};function d(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"This article covers the ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/img"},"<","img",">")," element renderer. ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/picture"},"<","picture",">")," is not yet supported.\n"))),(0,r.kt)("h2",{id:"scaling"},"Scaling"),(0,r.kt)("h3",{id:"inline-styles"},"Inline Styles"),(0,r.kt)("p",null,"The renderer will automatically scale images down to the available width, even when the provided inline style width is greater than the container width."),(0,r.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You are strongly advised to provide a ",(0,r.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/api/interfaces/renderhtmlprops#contentwidth"},"contentWidth")," property from ",(0,r.kt)("a",{parentName:"p",href:"https://reactnative.dev/docs/useWindowDimensions"},"useWindowDimensions")," official hook to help this component handle the scaling.\n"))),(0,r.kt)(o.Z,{title:"Image with inline styles",caption:"This image dimensions are set with inline styles. Note that both the width/height couple and the style attributes are evaluated, but the style attribute takes precedence. The relative width (50%) is computed against contentWidth.",version:"6.0.0-alpha.24",html:"%3Cimg%0A%20%20width%3D%221200%22%20height%3D%22800%22%0A%20%20style%3D%22width%3A%2050%25%3B%20height%3A%20100px%3B%20align-self%3A%20center%3B%22%0A%20%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fanimals%22%0A%2F%3E",snippet:"import%20React%20from%20'react'%3B%0Aimport%20%7B%20useWindowDimensions%20%7D%20from%20'react-native'%3B%0Aimport%20RenderHtml%20from%20'react-native-render-html'%3B%0A%0A%0Aconst%20source%20%3D%20%7B%0A%20%20html%3A%20%60%3Cimg%0A%20%20width%3D%221200%22%20height%3D%22800%22%0A%20%20style%3D%22width%3A%2050%25%3B%20height%3A%20100px%3B%20align-self%3A%20center%3B%22%0A%20%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fanimals%22%0A%2F%3E%60%0A%7D%3B%0A%0Aexport%20default%20function%20App()%20%7B%0A%20%20const%20%7B%20width%20%7D%20%3D%20useWindowDimensions()%3B%0A%20%20return%20(%0A%20%20%20%20%3CRenderHtml%0A%20%20%20%20%20%20contentWidth%3D%7Bwidth%7D%0A%20%20%20%20%20%20source%3D%7Bsource%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fanimals%22%20%2F%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"RenderHTMLCard"}),(0,r.kt)("h3",{id:"object-fit"},"Object Fit"),(0,r.kt)("p",null,"This library supports ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/object-fit"},"object-fit")," CSS property. In the below example, which is very similar to the previous one, we set explicitly ",(0,r.kt)("inlineCode",{parentName:"p"},"object-fit:\xa0contain;")," to letterbox the image in the container of width ",(0,r.kt)("inlineCode",{parentName:"p"},"50%")," and height ",(0,r.kt)("inlineCode",{parentName:"p"},"100px"),"."),(0,r.kt)(o.Z,{title:"Object Fit Support",caption:'Object-fit "cover", "contain", "fill" and "scale-down" values are supported, and will be translated to React Native "resizeMode" style property.',version:"6.0.0-alpha.24",html:"%3Cimg%0A%20%20width%3D%221200%22%20height%3D%22800%22%0A%20%20style%3D%22object-fit%3A%20contain%3B%20width%3A%2050%25%3B%20height%3A%20100px%3B%20align-self%3A%20center%3B%22%0A%20%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fanimals%22%0A%2F%3E",snippet:"import%20React%20from%20'react'%3B%0Aimport%20%7B%20useWindowDimensions%20%7D%20from%20'react-native'%3B%0Aimport%20RenderHtml%20from%20'react-native-render-html'%3B%0A%0A%0Aconst%20source%20%3D%20%7B%0A%20%20html%3A%20%60%3Cimg%0A%20%20width%3D%221200%22%20height%3D%22800%22%0A%20%20style%3D%22object-fit%3A%20contain%3B%20width%3A%2050%25%3B%20height%3A%20100px%3B%20align-self%3A%20center%3B%22%0A%20%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fanimals%22%0A%2F%3E%60%0A%7D%3B%0A%0Aexport%20default%20function%20App()%20%7B%0A%20%20const%20%7B%20width%20%7D%20%3D%20useWindowDimensions()%3B%0A%20%20return%20(%0A%20%20%20%20%3CRenderHtml%0A%20%20%20%20%20%20contentWidth%3D%7Bwidth%7D%0A%20%20%20%20%20%20source%3D%7Bsource%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fanimals%22%20%2F%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"RenderHTMLCard"}),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/object-fit"},"object-fit")," is a mixed style and thus you can use it in mixed styles declarations such as ",(0,r.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/api/interfaces/renderhtmlprops#tagsstyles"},"tagsStyles"),".\n"))),(0,r.kt)("h3",{id:"automatic-sizing"},"Automatic Sizing"),(0,r.kt)("p",null,"The next image will be sized automatically thanks to the ",(0,r.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/api/interfaces/renderhtmlprops#contentwidth"},"contentWidth")," and ",(0,r.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/api/interfaces/renderhtmlprops#computeembeddedmaxwidth"},"computeEmbeddedMaxWidth")," props. The latter allows you to set the maximum width from ",(0,r.kt)("a",{parentName:"p",href:"/react-native-render-html/docs/api/interfaces/renderhtmlprops#contentwidth"},"contentWidth"),", or disabling scaling by returning ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/Infinity"},"Infinity"),"."),(0,r.kt)(o.Z,{title:"Image with width and height attributes",caption:"This image has no inline style. Its width and height are determined by the width and height attributes, scaled down to fit the result of computeEmbeddedMaxWidth('img').",version:"6.0.0-alpha.24",html:"%3Cimg%0A%20%20width%3D%221200%22%20height%3D%22800%22%0A%20%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fnature%22%0A%2F%3E",snippet:"import%20React%20from%20'react'%3B%0Aimport%20%7B%20useWindowDimensions%20%7D%20from%20'react-native'%3B%0Aimport%20RenderHtml%20from%20'react-native-render-html'%3B%0A%0A%0Aconst%20source%20%3D%20%7B%0A%20%20html%3A%20%60%3Cimg%0A%20%20width%3D%221200%22%20height%3D%22800%22%0A%20%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fnature%22%0A%2F%3E%60%0A%7D%3B%0A%0Aexport%20default%20function%20App()%20%7B%0A%20%20const%20%7B%20width%20%7D%20%3D%20useWindowDimensions()%3B%0A%20%20return%20(%0A%20%20%20%20%3CRenderHtml%0A%20%20%20%20%20%20contentWidth%3D%7Bwidth%7D%0A%20%20%20%20%20%20source%3D%7Bsource%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Fnature%22%20%2F%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"RenderHTMLCard"}),(0,r.kt)("h2",{id:"preloading"},"Preloading"),(0,r.kt)("p",null,"Similarly to browsers, this library will place a print box before fetching image dimensions when both ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/attribute/width"},"width")," and ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/attribute/height"},"height")," attributes are provided, or the two dimensions are set in the ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/attribute/style"},"style")," attribute. This is great to avoid images ",'"',"jumping",'"'," from zero height to their computed height, and is a hint to good web design."),(0,r.kt)("h2",{id:"error-handling"},"Error Handling"),(0,r.kt)(o.Z,{title:"Unreachable image",caption:"When an image is unreachable, the image renderer will print a box while preserving its requested dimensions. It will also display at the center of the box the content of alt attribute.",version:"6.0.0-alpha.24",html:"%3Cimg%0A%20%20width%3D%22200%22%20height%3D%22100%22%0A%20%20alt%3D%22The%20Void%22%0A%20%20src%3D%22http%3A%2F%2Fexample.tld%2Fimage.jpg%22%0A%2F%3E",snippet:"import%20React%20from%20'react'%3B%0Aimport%20%7B%20useWindowDimensions%20%7D%20from%20'react-native'%3B%0Aimport%20RenderHtml%20from%20'react-native-render-html'%3B%0A%0A%0Aconst%20source%20%3D%20%7B%0A%20%20html%3A%20%60%3Cimg%0A%20%20width%3D%22200%22%20height%3D%22100%22%0A%20%20alt%3D%22The%20Void%22%0A%20%20src%3D%22http%3A%2F%2Fexample.tld%2Fimage.jpg%22%0A%2F%3E%60%0A%7D%3B%0A%0Aexport%20default%20function%20App()%20%7B%0A%20%20const%20%7B%20width%20%7D%20%3D%20useWindowDimensions()%3B%0A%20%20return%20(%0A%20%20%20%20%3CRenderHtml%0A%20%20%20%20%20%20contentWidth%3D%7Bwidth%7D%0A%20%20%20%20%20%20source%3D%7Bsource%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22http%3A%2F%2Fexample.tld%2Fimage.jpg%22%20%2F%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"RenderHTMLCard"}),(0,r.kt)("h2",{id:"custom-renderer"},"Custom Renderer"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You are kindly advised to read the ",(0,r.kt)("a",{parentName:"p",href:"/docs/guides/custom-renderers"},"Custom Rendering")," page before continuing.\n"))),(0,r.kt)("h3",{id:"via-useinternalrenderer"},"Via useInternalRenderer"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useInternalRenderer")," has a great advantage over using ",(0,r.kt)("inlineCode",{parentName:"p"},"InternalRenderer")," prop: you have access to the internal component props. In this scenario, we are going to display an interactive thumbnail which will show the full resolution image when pressed. To do so, we are going to read the URI from the internal source prop (although we could also do this from the ",(0,r.kt)("inlineCode",{parentName:"p"},"TNode")," ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," attribute), and mangle it to get our ",'"',"thumbnail",'"'," URI."),(0,r.kt)(o.Z,{title:"A Custom Image Renderer based on useInternalRenderer",caption:"Press the image and a modal will appear!",version:"6.0.0-alpha.24",html:"%3Cimg%20src%3D%22https%3A%2F%2Fdummyimage.com%2F1200x800%22%3E",snippet:"import%20React%20from%20'react'%3B%0Aimport%20%7B%20useWindowDimensions%20%7D%20from%20'react-native'%3B%0Aimport%20RenderHtml%20from%20'react-native-render-html'%3B%0Aimport%20%7B%20Modal%2C%20Button%2C%20Text%2C%20View%20%7D%20from%20'react-native'%3B%0Aimport%20%7B%20useState%20%7D%20from%20'react'%3B%0Aimport%20%7B%20useInternalRenderer%20%7D%20from%20'react-native-render-html'%3B%0A%0Afunction%20CustomImageRenderer(%0A%20%20props%0A)%20%7B%0A%20%20const%20%7B%20Renderer%2C%20rendererProps%20%7D%20%3D%20useInternalRenderer('img'%2C%20props)%3B%0A%20%20const%20%5BisModalOpen%2C%20setIsModalOpen%5D%20%3D%20useState(false)%3B%0A%20%20const%20onPress%20%3D%20()%20%3D%3E%20setIsModalOpen(true)%3B%0A%20%20const%20onModalClose%20%3D%20()%20%3D%3E%20setIsModalOpen(false)%3B%0A%20%20const%20uri%20%3D%20rendererProps.source.uri%3B%0A%20%20const%20thumbnailSource%20%3D%20%7B%0A%20%20%20%20...rendererProps.source%2C%0A%20%20%20%20%2F%2F%20You%20could%20change%20the%20uri%20here%2C%20for%20example%20to%20provide%20a%20thumbnail.%0A%20%20%20%20uri%3A%20uri.replace('1200'%2C%20'300').replace('800'%2C%20'200')%0A%20%20%7D%3B%0A%20%20return%20(%0A%20%20%20%20%3CView%20style%3D%7B%7B%20alignItems%3A%20'center'%20%7D%7D%3E%0A%20%20%20%20%20%20%3CRenderer%20%7B...rendererProps%7D%20source%3D%7BthumbnailSource%7D%20onPress%3D%7BonPress%7D%20%2F%3E%0A%20%20%20%20%20%20%3CModal%20visible%3D%7BisModalOpen%7D%20onRequestClose%3D%7BonModalClose%7D%3E%0A%20%20%20%20%20%20%20%20%3CRenderer%20%7B...rendererProps%7D%20%2F%3E%0A%20%20%20%20%20%20%20%20%3CText%3EA%20full%20resolution%20image!%3C%2FText%3E%0A%20%20%20%20%20%20%20%20%3CButton%20title%3D%22Close%20Modal%22%20onPress%3D%7BonModalClose%7D%20%2F%3E%0A%20%20%20%20%20%20%3C%2FModal%3E%0A%20%20%20%20%3C%2FView%3E%0A%20%20)%3B%0A%7D%0A%0Aconst%20source%20%3D%20%7B%0A%20%20html%3A%20'%3Cimg%20src%3D%22https%3A%2F%2Fdummyimage.com%2F1200x800%22%3E'%0A%7D%3B%0A%0Aconst%20tagsStyles%20%3D%20%7B%0A%20%20img%3A%20%7B%0A%20%20%20%20alignSelf%3A%20'center'%0A%20%20%7D%0A%7D%3B%0A%0Aconst%20renderers%20%3D%20%7B%0A%20%20img%3A%20CustomImageRenderer%0A%7D%3B%0A%0Aexport%20default%20function%20App()%20%7B%0A%20%20const%20%7B%20width%20%7D%20%3D%20useWindowDimensions()%3B%0A%20%20return%20(%0A%20%20%20%20%3CRenderHtml%0A%20%20%20%20%20%20contentWidth%3D%7Bwidth%7D%0A%20%20%20%20%20%20source%3D%7Bsource%7D%0A%20%20%20%20%20%20tagsStyles%3D%7BtagsStyles%7D%0A%20%20%20%20%20%20renderers%3D%7Brenderers%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22https%3A%2F%2Fdummyimage.com%2F1200x800%22%20%2F%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"RenderHTMLCard"}),(0,r.kt)("h3",{id:"by-reusing-internal-building-blocks"},"By Reusing Internal Building Blocks"),(0,r.kt)("p",null,"You can reuse to your advantage some building blocks of the internal renderer thanks to the following exports:"),(0,r.kt)("ol",{style:{listStyleType:"disc"}},(0,r.kt)("li",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IMGElementContainer"),": to render the container of the ",(0,r.kt)("a",{parentName:"p",href:"https://mdn.io/img"},"<","img",">")," element.")),(0,r.kt)("li",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useIMGElementProps"),": To transform generic custom renderer props in props used for the internal image component.")),(0,r.kt)("li",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useIMGElementState"),": To get the state of the image resource fetching.")),(0,r.kt)("li",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IMGElementContentError"),": To render the fallback view on error state.")),(0,r.kt)("li",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IMGElementContentLoading"),": To render the fallback view on loading state.")),(0,r.kt)("li",null,(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"IMGElementContentSuccess"),": To render the image on success state."))),(0,r.kt)("p",null,"In the below example, our custom renderer will display an activity indicator when the state is either ",'"',"loading",'"'," or ",'"',"success",'"',". This is for demonstration purposes, and of course you should handle the ",'"',"success",'"'," state by rendering the ",(0,r.kt)("inlineCode",{parentName:"p"},"IMGElementContentSuccess")," component, or a custom component based on a third-party library."),(0,r.kt)(o.Z,{title:"A Custom Tag Example",caption:'A Custom image renderer which renders a spinner on "loading" and "success" states.',version:"6.0.0-alpha.24",html:"%3Cimg%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Farchitecture%22%3E",snippet:"import%20React%20from%20'react'%3B%0Aimport%20%7B%20useWindowDimensions%20%7D%20from%20'react-native'%3B%0Aimport%20RenderHtml%20from%20'react-native-render-html'%3B%0Aimport%20%7B%20View%2C%20ActivityIndicator%20%7D%20from%20'react-native'%3B%0Aimport%20%7B%0A%20%20IMGElementContainer%2C%0A%20%20IMGElementContentError%2C%0A%20%20IMGElementContentSuccess%2C%0A%20%20useIMGElementProps%2C%0A%20%20useIMGElementState%0A%7D%20from%20'react-native-render-html'%3B%0A%0Afunction%20IMGElementContentLoading(%7B%20dimensions%2C%20altColor%20%7D)%20%7B%0A%20%20const%20loadingStyles%20%3D%20%7B%20justifyContent%3A%20'center'%2C%20alignItems%3A%20'center'%20%7D%3B%0A%20%20return%20(%0A%20%20%20%20%3CView%20style%3D%7B%5Bdimensions%2C%20loadingStyles%5D%7D%3E%0A%20%20%20%20%3CActivityIndicator%20color%3D%7BaltColor%7D%20size%3D%22large%22%20%2F%3E%0A%20%20%3C%2FView%3E%0A%20%20)%3B%0A%7D%0A%0Afunction%20CustomImageRenderer(%0A%20%20props%0A)%20%7B%0A%20%20const%20imgElementProps%20%3D%20useIMGElementProps(props)%3B%0A%20%20const%20state%20%3D%20useIMGElementState(imgElementProps)%3B%0A%20%20let%20content%3A%20ReactNode%20%3D%20false%3B%0A%20%20if%20(state.type%20%3D%3D%3D%20'error')%20%7B%0A%20%20%20%20content%20%3D%20React.createElement(IMGElementContentError%2C%20state)%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20content%20%3D%20React.createElement(IMGElementContentLoading%2C%20state)%3B%0A%20%20%7D%0A%20%20return%20(%0A%20%20%20%20%3CIMGElementContainer%0A%20%20%20%20%20%20onPress%3D%7BimgElementProps.onPress%7D%0A%20%20%20%20%20%20style%3D%7Bstate.containerStyle%7D%3E%0A%20%20%20%20%20%20%7Bcontent%7D%0A%20%20%20%20%3C%2FIMGElementContainer%3E%0A%20%20)%3B%0A%7D%0A%0Aconst%20source%20%3D%20%7B%0A%20%20html%3A%20'%3Cimg%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Farchitecture%22%3E'%0A%7D%3B%0A%0Aconst%20renderers%20%3D%20%7B%0A%20%20img%3A%20CustomImageRenderer%0A%7D%3B%0A%0Aexport%20default%20function%20App()%20%7B%0A%20%20const%20%7B%20width%20%7D%20%3D%20useWindowDimensions()%3B%0A%20%20return%20(%0A%20%20%20%20%3CRenderHtml%0A%20%20%20%20%20%20contentWidth%3D%7Bwidth%7D%0A%20%20%20%20%20%20source%3D%7Bsource%7D%0A%20%20%20%20%20%20renderers%3D%7Brenderers%7D%0A%20%20%20%20%2F%3E%0A%20%20)%3B%0A%7D",snapshot:"%3CTDocument%20tagName%3D%22html%22%3E%0A%20%20%3CTBlock%20tagName%3D%22body%22%3E%0A%20%20%20%20%3CTBlock%20tagName%3D%22img%22%20src%3D%22http%3A%2F%2Fplaceimg.com%2F1200%2F800%2Farchitecture%22%20%2F%3E%0A%20%20%3C%2FTBlock%3E%0A%3C%2FTDocument%3E",mdxType:"RenderHTMLCard"}))}d.isMDXComponent=!0}}]);